<!DOCTYPE html>
<html>

<head>
    <title>Simple Listdir Test</title>
</head>

<body>
    <h1>Simple os.listdir() Test</h1>
    <button id="test-btn">Test Performance</button>
    <div id="results"></div>
    <script src="app.js"></script>
    <script>
        document.getElementById('test-btn').addEventListener('click', async () => {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Running test...</p>';

            // Enable debug logs
            window.__ssg_debug_logs = true;

            try {
                const start = performance.now();

                await window.runCode('import os\nprint(os.listdir("/"))');

                const end = performance.now();
                const duration = end - start;

                results.innerHTML = `
                    <h3>Test Complete</h3>
                    <p><strong>Total time:</strong> ${duration.toFixed(2)}ms</p>
                    <p><strong>Status:</strong> ${duration < 1000 ? '✅ Fast' : '❌ Slow'}</p>
                `;

            } catch (error) {
                results.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        });
    </script>
</body>

</html>