# Clipy

Clipy is a browser-hosted environment for writing and running Python code. It combines an editor, an in-browser MicroPython runtime, a terminal UI for stdin/stdout, and authoring tools for tests and automated feedback.
The intention for Clipy is to be a place for students to practice Python in environments where they
might not be able to install a Python distro or bundled IDE, or where a teacher wants to be able to
provide students with integrated problems for students to solve.

One of the fundamental design intentions for Clipy is that it **must not require anything fancy**. No
Python or JS back-end, no databases. If you can put files on a web server, you can run Clipy.

[I have a somewhat up-to-date version of Clipy running here if you want to try it out](https://headtilt.me/clipy?author)

> [!IMPORTANT]
> Clipy is still very much a work in progress. Features aren't finished. There are still bugs.
> Docs aren't complete. Examples are thin on the ground.

Clipy is a project partly because it's something I really wanted to make, and partly as an exercise in
understanding the capabilities and limitations of agent-directed code. As such I've intentionally tried
to keep my involvement to direction.  
![Text: T.AI.3](https://img.shields.io/badge/Text-T.AI.3-blue) ([What's this?](https://www.badgeai.org/faq))

> [!NOTE]
> Why MicroPython?
>
> It's little, so loading the page for running and testing code is faster. Also the runtime has a few
> hacks to make `input` talk to the JS front-end properly and let the front-end break into blocking
> code. I figured it'd be easier to compile support for that into MicroPython rather than tackling
> something like Pyodide. Pyodide has support for doing some of these things through web workers, but
> web workers break my requirement for basic web hosting only.
>
> MicroPython does come with some trade-offs, notably a dramatically reduced version of "batteries
> included" when it comes to standard libraries (and in the details of what some exceptions look like).
>
> [You can read a more detailed justification and description of the what and why here.](docs/author/README.md)

This document gives a basic overview of the objectives and technology. You can find documentation here:
- [User documentation](docs/user/README.md)
- [Author documentation](docs/author/basic_interface.md)

## Hosting

Serve it with any simple static file server and open it in a modern browser. I host it through GitHub Pages but any basic web host should work. Host it on your own computer,
host it on your school web server, etc.
- [Grab a release](https://github.com/zarify/clipy/releases).
- Unzip it
- Spin up a web server (e.g. `python -m http.server 8000`)
- Point a web browser at the server and off you go!

## Configuration & authoring

- Configuration is intended to be managed through the in-app Authoring UI (use `?author=true` or the Author page).
- The authoring page allows teachers to create problems for students, define feedback rules to trigger as students write their code, and create unit tests to verify that student code does what it is supposed to.
- Configuration is via JSON files, but the intention is this is all generated by the app.

> [!NOTE]
> The one concession to fiddly web server setup is storing of configuration files. This requires a host that
> permits Cross Origin Resource Sharing (CORS). If you want to host files for students to access you
> can either:
> - Store them in the `config` directory of the app; or
> - Store them on a server that allows CORS. If you use the `raw` URL for files in a Github repo, this works
> nicely, so you end up with a URL like `raw.githubusercontent.com/.../your_file_name.json`

## Storage

Clipy uses browser storage for persistence, using IndexedDB (IDB) for the user workspace, code snapshots,
authoring drafts, and more. This means that data persists between browsing sessions (in the same browser,
on the same computer).

Users and authors can also export their work to files on their own computer as needed.

## License

See [LICENSE in the repository root](LICENSE).

Libraries are used in accordance with [their various licenses](src/vendor/README.md)
